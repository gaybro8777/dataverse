<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1240pt" height="1272" version="1.1" viewBox="0 0 1240 954" style="width:1240px;height:954px"><defs><filter id="f1" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text x="504" y="20.535" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227">Authentication in Dataverse 4.0</text><rect width="466" height="208.129" x="759" y="641.945" fill="#FFF" stroke="#000" stroke-width="2" filter="url(#f1)"/><rect width="466" height="132.197" x="759" y="717.877" fill="#FFF" stroke="none" stroke-width="1"/><rect width="938" height="922" x="281" y="31.488" fill="#DDD" stroke="#A80036" stroke-width="1"/><text x="692" y="44.057" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116">DataverseSystem</text><line x1="23" x2="23" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="211" x2="211" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="334" x2="334" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="483" x2="483" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="671" x2="671" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="810" x2="810" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="1197" x2="1197" y1="113.977" y2="867.074" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><text x="5" y="111.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31">User</text><ellipse cx="23.5" cy="40.488" fill="#FEFECE" stroke="#A80036" stroke-width="2" filter="url(#f1)" rx="8" ry="8"/><path fill="#FEFECE" stroke="#A80036" stroke-width="2" d="M23.5,48.4883 L23.5,75.4883 M10.5,56.4883 L36.5,56.4883 M23.5,75.4883 L10.5,90.4883 M23.5,75.4883 L36.5,90.4883" filter="url(#f1)"/><text x="5" y="879.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31">User</text><ellipse cx="23.5" cy="892.488" fill="#FEFECE" stroke="#A80036" stroke-width="2" filter="url(#f1)" rx="8" ry="8"/><path fill="#FEFECE" stroke="#A80036" stroke-width="2" d="M23.5,900.4883 L23.5,927.4883 M10.5,908.4883 L36.5,908.4883 M23.5,927.4883 L10.5,942.4883 M23.5,927.4883 L36.5,942.4883" filter="url(#f1)"/><rect width="123" height="46.977" x="148" y="62" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="169" y="82.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">AuthSystem</text><text x="155" y="99.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">May be external</text><rect width="123" height="46.977" x="148" y="866" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="169" y="886.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">AuthSystem</text><text x="155" y="903.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">May be external</text><rect width="95" height="30.488" x="285" y="78.488" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="292" y="99.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">DataverseUI</text><rect width="95" height="30.488" x="285" y="866" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="292" y="886.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81">DataverseUI</text><rect width="175" height="30.488" x="394" y="78.488" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="401" y="99.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161">AuthenticationManager</text><rect width="175" height="30.488" x="394" y="866" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="401" y="886.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161">AuthenticationManager</text><rect width="172" height="30.488" x="583" y="78.488" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="590" y="99.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158">AuthenticationProvider</text><rect width="172" height="30.488" x="583" y="866" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="590" y="886.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158">AuthenticationProvider</text><rect width="78" height="30.488" x="769" y="78.488" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="776" y="99.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64">UserBean</text><rect width="78" height="30.488" x="769" y="866" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1)"/><text x="776" y="886.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64">UserBean</text><text x="1185" y="111.023" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18">db</text><path fill="#FEFECE" stroke="#A80036" stroke-width="1.5" d="M1179,65.4883 C1179,55.4883 1197,55.4883 1197,55.4883 C1197,55.4883 1215,55.4883 1215,65.4883 L1215,87.4883 C1215,97.4883 1197,97.4883 1197,97.4883 C1197,97.4883 1179,97.4883 1179,87.4883 L1179,65.4883" filter="url(#f1)"/><path fill="none" stroke="#A80036" stroke-width="1.5" d="M1179,65.4883 C1179,75.4883 1197,75.4883 1197,75.4883 C1197,75.4883 1215,75.4883 1215,65.4883"/><text x="1185" y="879.535" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18">db</text><path fill="#FEFECE" stroke="#A80036" stroke-width="1.5" d="M1179,892.4883 C1179,882.4883 1197,882.4883 1197,882.4883 C1197,882.4883 1215,882.4883 1215,892.4883 L1215,914.4883 C1215,924.4883 1197,924.4883 1197,924.4883 C1197,924.4883 1179,924.4883 1179,914.4883 L1179,892.4883" filter="url(#f1)"/><path fill="none" stroke="#A80036" stroke-width="1.5" d="M1179,892.4883 C1179,902.4883 1197,902.4883 1197,902.4883 C1197,902.4883 1215,902.4883 1215,892.4883"/><rect width="1235" height="3" x="0" y="144.632" fill="#EEE" stroke="#EEE" stroke-width="1" filter="url(#f1)"/><line x1="0" x2="1235" y1="144.632" y2="144.632" stroke="#000" stroke-width="1"/><line x1="0" x2="1235" y1="147.632" y2="147.632" stroke="#000" stroke-width="1"/><rect width="71" height="23.311" x="582" y="133.977" fill="#EEE" stroke="#000" stroke-width="2" filter="url(#f1)"/><text x="588" y="150.545" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53">Pick IDP</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="322.5 184.287 332.5 188.287 322.5 192.287 326.5 188.287"/><line x1="23.5" x2="328.5" y1="188.287" y2="188.287" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="30.5" y="183.856" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">1</text><text x="42.5" y="183.856" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35">GET /</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="34.5 213.598 24.5 217.598 34.5 221.598 30.5 217.598"/><line x1="28.5" x2="333.5" y1="217.598" y2="217.598" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="40.5" y="213.166" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">2</text><text x="52.5" y="213.166" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135">&quot;Select Login System&quot;</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="322.5 242.908 332.5 246.908 322.5 250.908 326.5 246.908"/><line x1="23.5" x2="328.5" y1="246.908" y2="246.908" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="30.5" y="242.477" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">3</text><text x="42.5" y="242.477" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73">authSystem</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="471.5 272.219 481.5 276.219 471.5 280.219 475.5 276.219"/><line x1="334.5" x2="477.5" y1="276.219" y2="276.219" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="341.5" y="271.787" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">4</text><text x="353.5" y="271.787" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109">get( authSystem )</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="345.5 301.529 335.5 305.529 345.5 309.529 341.5 305.529"/><line x1="339.5" x2="482.5" y1="305.529" y2="305.529" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="351.5" y="301.098" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">5</text><text x="363.5" y="301.098" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73">authSystem</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="34.5 330.84 24.5 334.84 34.5 338.84 30.5 334.84"/><line x1="28.5" x2="333.5" y1="334.84" y2="334.84" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="40.5" y="330.408" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">6</text><text x="52.5" y="330.408" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142">redirect to authSystem</text><rect width="1235" height="3" x="0" y="363.806" fill="#EEE" stroke="#EEE" stroke-width="1" filter="url(#f1)"/><line x1="0" x2="1235" y1="363.806" y2="363.806" stroke="#000" stroke-width="1"/><line x1="0" x2="1235" y1="366.806" y2="366.806" stroke="#000" stroke-width="1"/><rect width="105" height="23.311" x="565" y="353.15" fill="#EEE" stroke="#000" stroke-width="2" filter="url(#f1)"/><text x="571" y="369.719" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87">Authenticate</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="199.5 403.461 209.5 407.461 199.5 411.461 203.5 407.461"/><line x1="23.5" x2="205.5" y1="407.461" y2="407.461" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="30.5" y="403.029" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">7</text><text x="42.5" y="403.029" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69">credentials</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="34.5 432.772 24.5 436.772 34.5 440.772 30.5 436.772"/><line x1="28.5" x2="210.5" y1="436.772" y2="436.772" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="40.5" y="432.34" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">8</text><text x="52.5" y="432.34" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152">Ok, back to DataverseUI</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="322.5 462.082 332.5 466.082 322.5 470.082 326.5 466.082"/><line x1="23.5" x2="328.5" y1="466.082" y2="466.082" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="30.5" y="461.65" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8">9</text><text x="42.5" y="461.65" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121">autenticated( data )</text><rect width="1235" height="3" x="0" y="495.048" fill="#EEE" stroke="#EEE" stroke-width="1" filter="url(#f1)"/><line x1="0" x2="1235" y1="495.048" y2="495.048" stroke="#000" stroke-width="1"/><line x1="0" x2="1235" y1="498.048" y2="498.048" stroke="#000" stroke-width="1"/><rect width="60" height="23.311" x="587.5" y="484.393" fill="#EEE" stroke="#000" stroke-width="2" filter="url(#f1)"/><text x="593.5" y="500.961" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42">Log in</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="659 534.703 669 538.703 659 542.703 663 538.703"/><line x1="334.5" x2="665" y1="538.703" y2="538.703" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="341.5" y="534.271" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">10</text><text x="361.5" y="534.271" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">getUserObj( data )</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="345.5 564.014 335.5 568.014 345.5 572.014 341.5 568.014"/><line x1="339.5" x2="670" y1="568.014" y2="568.014" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="351.5" y="563.582" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">11</text><text x="371.5" y="563.582" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49">userObj</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="798 593.324 808 597.324 798 601.324 802 597.324"/><line x1="334.5" x2="804" y1="597.324" y2="597.324" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="341.5" y="592.893" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">12</text><text x="361.5" y="592.893" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112">setUser( userObj )</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="1185 622.635 1195 626.635 1185 630.635 1189 626.635"/><line x1="810" x2="1191" y1="626.635" y2="626.635" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="817" y="622.203" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">13</text><text x="837" y="622.203" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241">lookupAuthenticatedUser( userObj.id )</text><rect width="466" height="208.129" x="759" y="641.945" fill="none" stroke="#000" stroke-width="2"/><polygon fill="#EEE" stroke="#000" stroke-width="2" points="759 641.945 821 641.945 821 648.945 811 658.945 759 658.945 759 641.945"/><text x="774" y="655.514" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17">alt</text><text x="836" y="654.58" fill="#000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56">[id found]</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="821 676.256 811 680.256 821 684.256 817 680.256"/><line x1="815" x2="1196" y1="680.256" y2="680.256" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="827" y="675.824" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">14</text><text x="847" y="675.824" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">authenticatedUser</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="1185 705.566 1195 709.566 1185 713.566 1189 709.566"/><line x1="810" x2="1191" y1="709.566" y2="709.566" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="817" y="705.135" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">15</text><text x="837" y="705.135" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230">update( authenticatedUser, userObj )</text><line x1="759" x2="1225" y1="718.877" y2="718.877" stroke="#000" stroke-dasharray="2 2" stroke-width="1"/><text x="764" y="729.512" fill="#000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78">[id not found]</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="821 749.832 811 753.832 821 757.832 817 753.832"/><line x1="815" x2="1196" y1="753.832" y2="753.832" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="827" y="749.4" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">16</text><text x="847" y="749.4" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103">&quot;user not found&quot;</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="1185 779.143 1195 783.143 1185 787.143 1189 783.143"/><line x1="810" x2="1191" y1="783.143" y2="783.143" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="817" y="778.711" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">17</text><text x="837" y="778.711" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219">createAuthenticatedUser( userObj )</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="821 808.453 811 812.453 821 816.453 817 812.453"/><line x1="815" x2="1196" y1="812.453" y2="812.453" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="827" y="808.021" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">18</text><text x="847" y="808.021" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114">authenticatedUser</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="1185 837.764 1195 841.764 1185 845.764 1189 841.764"/><line x1="810" x2="1191" y1="841.764" y2="841.764" stroke="#A80036" stroke-dasharray="2 2" stroke-width="1"/><text x="817" y="837.332" fill="#00F" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16">19</text><text x="837" y="837.332" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343">updateLookupTable( userObj.id, authenticatedUser.id )</text></g></svg>